![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig.jpg)


# (一)	成果展示
## 1.	概览
本次作业中，作者整合了明朝进士数据和明朝行政区域地图数据，按照时间、科目、户籍、姓氏、籍贯、地域分布，共计六个维度，制作了多视图、可交互的可视化界面。最终效果如下：
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig1.jpg)
图①

如图①所示，可视化界面可细分为五个部分，分别是
1.	进士地域分布地图
2.	考试科目和进士年份关系图（含柱状和折线图）
3.	进士户籍与进士年份关系图（含柱状和折线图）
4.	姓氏占比玫瑰图
5.	进士籍贯层次关系树图

## 2.	界面交互
交互功能有助于我们更好地掌握信息。为了多维度分析明代进士的总体和详细信息，作者设计了丰富的交互功能，方便使用者直观地获取多重条件下的进士信息。以下将可视化界面分为五个子视图逐一介绍其功能
1.	进士地域分布地图
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig2.jpg)
图②

如图②所示，地图组件展现了在用户指定条件下进士的地域分布。地图的颜色是从浅蓝色到深蓝色的渐变，颜色的深浅表示该地域进士数量的多少；轻触地图上的区域块，会显示具体地名和该地在指定条件下进士的数目，如图②所示，当轻触“凤阳府”时，会显示：在指定条件下凤阳府进士总计95人；地图左上方有“显示地图”的按钮，这是和其他视图发生交互的组件，当用户在其他组件选定条件范围后，点击“显示地图”将更新进士的地域分布情况。

2.	考试科目和进士年份关系图（含柱状和折线图）
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig3.jpg)
图③

图③展现了在指定时间区间内，各个科目的进士概况。视图顶部有五个选择项，分别表示明朝科考的五类科目。我们可以任意选择指定的某几个科目进行查看；视图右上方是视图切换组件，六个功能键从左至右依次是“数据视图”（图④）、“切换折线图”（图⑤）、“切换柱状图”、“切换堆叠图”、‘重置视图’、“下载该图”（图⑥）。
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig4.jpg)
图④
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig5.jpg)
图⑤
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig6.jpg)
图⑥

3.	进士户籍与进士年份关系图（含柱状和折线图）
图⑦展现了在指定时间区间内，不同户籍的进士概况。户籍图并没有独立的时间轴组件，通过操作图③的时间轴组件，户籍图将产生相应的变化。事实上，五个子图具有同样的时间范围选项。操作时间轴组件，所有视图将共同变化。
 
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig7.jpg)
图⑦

4.姓氏占比玫瑰图
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig8.jpg)
图⑧

图⑧展现了在选定条件下进士数量前十的姓氏占比玫瑰图。考虑到面积和弧度会带来认知偏差，两者皆非良好的视觉通道，故这里使用了半径来体现定量关系，通过按数量排序来体现定序关系。此外，轻触“玫瑰叶”会显示该姓氏的进士具体人数和相对占比。

4.	进士籍贯层次关系树图
图⑨展示了籍贯层次关系树图，依然是采用squrifed算法。在原有基础上，作者在树图上添加了缩放功能和标签显示功能，点击区域块可以放大并锁定该区域，视图底部的标签显示当前点击区域的层级分布。如图⑨所示，此时显示：福建-泉州-晋江地区在指定条件下共有185名进士。
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig9.jpg)
图⑨


# (二)	数据分析
课程提供的资料为《明代登科录彙编》及《天一阁藏明代科举录选刊.登科录》中的原始资料。数据集包括明代52 年科举考试的所有进士原始资料，共14116 人。数据集以excel 数据xlsx 的格式呈现，共有3 个工作表。第1 个工作表Ming Jinshi Lists中包括了所有进士的详细信息，第2 个工作表Release Notes 中描述了3 个工作表中的内容并列出了各次科举考试的年份和资料出处，第3 个工作表dazi rule 描述了进士数据项的格式。第一张工作表中的进士详细信息是此次作业的核心数据，其中每一条目记载了此人的进士年份、姓名、名次、籍贯、户籍等总计43项信息。
除此之外，本次作业还提供了明朝区域行政地图。作者采用了1582年（明万历十年）的GeoJSON文件。通过简单的计算，我们可知明万历十年明朝共有244个行政区域，每个区域可用单个或多个几何多边形来刻画，具体而言，GeoJSON文件中给出了每个行政区域边缘的经纬度坐标信息。JSON文件格式如右所示。

数据处理和可视化
考虑到本次作业需要多视图、可交互地展现明代进士各个维度的情况，作者按需重构了数据集，最终整理出了两个json文件。
作者将14116条进士信息按籍贯进行了层次处理，并储存在data.js中；将GeoJSON中的行政区域名称和data.js中的区域划分进行了匹配(详见filter.py)，并按区域将进士的信息嵌入到GeoJON文件中(详见map_people.js)。

# (三)	可视化分析
在本次作业中，作者采用了D3和Echarts两种可视化工具相结合的方法，D3用于地图的渲染，Echarts用于其余组件的构造，最终完成了多视图、可交互的可视化界面。以下是对可视化结果的具体分析。
科目图分析
首先观察图10，这里呈现了科目、户籍以及年份和进士数量变化的总体情况概览。
堆叠的柱状图不仅可以看到每年的进士总数变化，还可以获取不同科目的进士数量信息。
可以观察到：在这段期间考取进士的的人数总体上逐年递增，科考的科目是经典的“诗、书、礼、易、春秋”。《诗经》在14世纪末期选择的人数不敌《书经》，但随着年份变化《诗经》逐渐成为科举主流，选择该科目的进士数量保持相对稳定。反观《礼记》和《春秋》，选考《礼记》和《春秋》的进士一直较少。

![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig10.jpg)
图10                                 

![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig11.jpg)
图11

户籍图分析
根据先验知识，我们可知户籍主要分为“民籍”，“军籍”，“官籍”，“灶籍”五个大类，故将其呈现在视图上。折线图可以更好地观察数据项的变化趋势，故采用折线图进行观察。观察图10可知：这段时期民籍和军籍一直是进士的主要来源，在1460年进士的总数发生骤降(锁定1460年附近的区间可以看到更加详细的信息，如图11所示)。通过查询史料，可知1460年鞑靼入寇，国内动荡，所以人数的骤降在情理之中。在次年进士人数有明显的回弹，说明进士的人数在大体上保持稳定。

户籍和姓氏关系分析
考虑到户籍和姓氏的关系相较于科目和姓氏更加紧密，故对户籍和姓氏展开深入分析。
官籍和民籍是进士的主要组成部分，选定“官籍”和“民籍”按钮，如图12所示，“王”、“张”、“李”氏人数相当，占据了绝大多数。
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig12.jpg)
图12
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig13.jpg)
图13
当选定人口最少的“灶籍”时，“陈”姓占据绝对的人口优势（如图13所示）。

地域特征分析
明朝1400至1450年间，进士主要分布在北直隸一带，“顺天府”(图14)和“淮安府”(图15人数最多，经过查阅资料可知，其分别对应着当今的“北京”和“南京”。
  
  ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig14.jpg)
图14                                

![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig15.jpg)
图15
明朝1550至1600年间，南方的进士数量明显增多（图16）。通过移动时间轴，可以观察到南方的进士数量逐年增加，这和历史上的经济和政治中心南移密切相关。
 
 ![](https://007dxr.github.io/Jinshi_In_Ming_Dynasty/figure/fig16.jpg)
图16

